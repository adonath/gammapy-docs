

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>HpxNDMap &mdash; gammapy v0.18.3.dev361+ge1744c61b</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-rendered-html.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/gammapy_logo.ico"/>
  

  
  
    <link rel="canonical" href="https://docs.gammapy.org/dev/api/gammapy.maps.HpxNDMap.html"/>
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/gammapy.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Map" href="gammapy.maps.Map.html" />
    <link rel="prev" title="HpxMap" href="gammapy.maps.HpxMap.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gammapy
          

          
          </a>

          
            
            
              <div class="version">
                0.18.3.dev361+ge1744c61b
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#data-reduction">Data reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#datasets">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#modeling-and-fitting">Modeling and Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#time-analysis">Time analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#simulation">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#other-topics">Other topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#what-next">What next?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/DL3.html">The Data Level 3 (DL3) format</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html#using-anaconda">Using Anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html#using-other-package-managers">Using other package managers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html#download-tutorials">Download tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html#what-next">What next?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/dependencies.html">Gammapy Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/other.html">Other package managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/pip.html">Installation with pip</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#help">Help!?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#check-your-setup">Check your setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#use-gammapy">Use Gammapy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#id2">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#id3">IPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#python-script">Python script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#jupyter-notebooks">Jupyter notebooks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#install-issues">Install issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/index.html#starting">Starting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/analysis_1.html">High-level interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/analysis_2.html">Low level API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/overview.html">Data structures</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/index.html#data-exploration">Data exploration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/cta.html">CTA with Gammapy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/hess.html">H.E.S.S. with Gammapy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/fermi_lat.html">Fermi-LAT with Gammapy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/index.html#data-analysis">Data analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/index.html#d-spectral">1D Spectral</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/index.html#d-image">2D Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/index.html#d-cube">3D Cube</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/index.html#time">Time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/index.html#advanced">Advanced</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/index.html#package">Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/index.html#specific-use-cases">Specific use cases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/index.html#scripts">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/survey_map.html">Survey map</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../howto.html">How To</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#access-iact-data">Access IACT data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#check-irfs">Check IRFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#use-gammapy-for-modeling-2d-images">Use gammapy for modeling 2D images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#extract-1d-spectra">Extract 1D spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#extract-a-lightcurve">Extract a lightcurve</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#compute-source-significance">Compute source significance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#compute-cumulative-significance">Compute cumulative significance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#detect-sources-in-a-map">Detect sources in a map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#astrophysical-source-modeling">Astrophysical source modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#implement-a-custom-model">Implement a custom model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html#energy-dependent-spatial-models">Energy Dependent Spatial Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">Glossary and references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../references.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../references.html#publications">Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../references.html#other-gamma-ray-packages">Other gamma-ray packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../references.html#other-useful-packages">Other useful packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#unreleased">0.19 (unreleased)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#nov-19th-2020">0.18.2 (Nov 19th, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#pull-requests">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#nov-6th-2020">0.18.1 (Nov 6th, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id2">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#nov-4th-2020">0.18 (Nov 4th, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id3">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#apr-1-2020">0.17 (Apr 1, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id4">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#feb-1-2020">0.16 (Feb 1, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id5">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id6">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#dec-3-2019">0.15 (Dec 3, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id7">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id8">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#sep-30-2019">0.14 (Sep 30, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id9">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id10">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#jul-26-2019">0.13 (Jul 26, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id11">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id12">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#may-30-2019">0.12 (May 30, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id13">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id14">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#mar-29-2019">0.11 (Mar 29, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id15">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id16">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#jan-28-2019">0.10 (Jan 28, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id17">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id18">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#nov-29-2018">0.9 (Nov 29, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id19">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id20">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#sep-23-2018">0.8 (Sep 23, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id21">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id22">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#feb-28-2018">0.7 (Feb 28, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id23">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id24">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#apr-28-2017">0.6 (Apr 28, 2017)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id25">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id26">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#nov-22-2016">0.5 (Nov 22, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id27">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id28">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#apr-20-2016">0.4 (Apr 20, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id29">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id30">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#aug-13-2015">0.3 (Aug 13, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id31">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id32">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#apr-13-2015">0.2 (Apr 13, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id33">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id34">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#aug-25-2014">0.1 (Aug 25, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id35">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id36">Pull requests</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Gammapy Package</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../analysis/index.html">analysis - High-level interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../analysis/index.html#using-the-high-level-interface">Using the high-level interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../analysis/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../analysis/index.html#module-gammapy.analysis">gammapy.analysis Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data/index.html">data - DL3 data access and observations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#using-gammapy-data">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/index.html#module-gammapy.data">gammapy.data Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../makers/index.html">makers - Data reduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../makers/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makers/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makers/index.html#safe-data-range-handling">Safe Data Range Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makers/index.html#stacking-of-datasets">Stacking of Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makers/index.html#combining-data-reduction-steps">Combining Data Reduction Steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../makers/reflected.html">Reflected regions background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../makers/ring.html">Ring background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../makers/index.html#using-gammapy-makers">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.makers</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../makers/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../makers/index.html#module-gammapy.makers">gammapy.makers Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/index.html">datasets - Reduced datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../datasets/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasets/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasets/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../datasets/index.html#module-gammapy.datasets">gammapy.datasets Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modeling/index.html">modeling - Models and fitting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modeling/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modeling/index.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modeling/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../modeling/index.html#module-gammapy.modeling">gammapy.modeling Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modeling/index.html#module-gammapy.modeling.models">gammapy.modeling.models Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../estimators/index.html">estimators - High level estimators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../estimators/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../estimators/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../estimators/detect.html">Flux and significance maps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../estimators/index.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../estimators/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../estimators/index.html#module-gammapy.estimators">gammapy.estimators Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../irf/index.html">irf - Instrument response functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../irf/index.html#irf-axis-naming">IRF Axis naming</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#using-gammapy-irf">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.irf</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../irf/theory.html">IRF Theory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../irf/aeff.html">Effective area</a></li>
<li class="toctree-l3"><a class="reference internal" href="../irf/edisp.html">Energy Dispersion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../irf/psf.html">Point Spread Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../irf/bkg.html">Background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../irf/index.html#module-gammapy.irf">gammapy.irf Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../maps/index.html">maps - Sky maps</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#constructing-with-factory-methods">Constructing with Factory Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#indexing-and-slicing">Indexing and Slicing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#accessor-methods">Accessor Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#interface-with-mapcoord-and-skycoord">Interface with <code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#differential-and-integral-maps">Differential and integral maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#mapcoord">MapCoord</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#interpolation">Interpolation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#iterating-by-image">Iterating by image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#fits-i-o">FITS I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#visualization">Visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#creating-counts-cubes-from-event-lists">Creating counts cubes from event lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#generating-a-cutout-of-a-model-cube">Generating a Cutout of a Model Cube</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#using-gammapy-maps">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.maps</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maps/hpxmap.html">HEALPix-based Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/regionmap.html">RegionGeom and RegionNDMap</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../maps/index.html#reference-api">Reference/API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../maps/index.html#module-gammapy.maps">gammapy.maps Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../catalog/index.html">catalog - Source catalogs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../catalog/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../catalog/index.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../catalog/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../catalog/index.html#module-gammapy.catalog">gammapy.catalog Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../astro/index.html">astro - Astrophysics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../astro/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../astro/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../astro/index.html#sub-packages">Sub-packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../astro/source/index.html">Astrophysical source models (<code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.source</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../astro/population/index.html">Astrophysical source population models (<code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.population</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../astro/darkmatter/index.html">Dark matter (<code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.darkmatter</span></code>)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/index.html">scripts - Command line tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#execute">Execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#running-config-driven-data-reduction">Running config driven data reduction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#write-your-own-cli">Write your own CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#command-not-found">Command not found</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#reference">Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#gammapy">gammapy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stats/index.html">stats - Statistics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#notations">Notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#counts-and-fit-statistics">Counts and fit statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#estimating-ts">Estimating TS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#counts-statistics-classes">Counts statistics classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#cash-counts-statistic">Cash counts statistic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#wstat-counts-statistic">WStat counts statistic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#using-gammapy-stats">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stats/fit_statistics.html">Fit statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats/wstat_derivation.html">Derivation of the WStat formula</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#module-gammapy.stats">gammapy.stats Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index.html">visualization - Plotting and Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../visualization/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../visualization/index.html#colormaps">Colormaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../visualization/index.html#survey-panel-plots">Survey Panel Plots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../visualization/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../visualization/index.html#module-gammapy.visualization">gammapy.visualization Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">utils - Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html#time-handling-in-gammapy">Time handling in Gammapy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#time-format-and-scale">Time format and scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#mission-elapsed-times-met">Mission elapsed times (MET)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#time-differences">Time differences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.units">gammapy.utils.units Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.coordinates">gammapy.utils.coordinates Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.integrate">gammapy.utils.integrate Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.interpolation">gammapy.utils.interpolation Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.table">gammapy.utils.table Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.fits">gammapy.utils.fits Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.random">gammapy.utils.random Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.regions">gammapy.utils.regions Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.scripts">gammapy.utils.scripts Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.testing">gammapy.utils.testing Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils/index.html#module-gammapy.utils.time">gammapy.utils.time Module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Developer documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/intro.html">How to contribute to Gammapy?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/setup.html">Gammapy project setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/howto.html">Developer HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/release.html">How to make a Gammapy release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/pigs/index.html">PIGs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-001.html">PIG 1 - PIG purpose and guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-002.html">PIG 2 - Organization of low-level analysis code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-003.html">PIG 3 - Plan for dropping Python 2.7 support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-004.html">PIG 4 - Setup for tutorial notebooks and data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-005.html">PIG 5 - Gammapy 1.0 Roadmap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-006.html">PIG 6 - CTA observation handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-007.html">PIG 7 - Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-008.html">PIG 8 - Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-009.html">PIG 9 - Event Sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-010.html">PIG 10 - Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-011.html">PIG 11 - Light curves</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-012.html">PIG 12 - High-level interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-013.html">PIG 13 - Gammapy dependencies and distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-014.html">PIG 14 - Uncertainty estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-016.html">PIG 16 - Gammapy package structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-018.html">PIG 18 - Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-019.html">PIG 19 - Gammapy package structure follow up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-021.html">PIG 21 - Models Improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/dataformats.html">Data Formats</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gammapy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../maps/index.html">maps - Sky maps</a> &raquo;</li>
        
      <li>HpxNDMap</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/gammapy.maps.HpxNDMap.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="hpxndmap">
<h1>HpxNDMap<a class="headerlink" href="#hpxndmap" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gammapy.maps.HpxNDMap">
<em class="property">class </em><code class="sig-prename descclassname">gammapy.maps.</code><code class="sig-name descname">HpxNDMap</code><span class="sig-paren">(</span><em class="sig-param">geom</em>, <em class="sig-param">data=None</em>, <em class="sig-param">dtype='float32'</em>, <em class="sig-param">meta=None</em>, <em class="sig-param">unit=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.hpxmap.HpxMap"><code class="docutils literal notranslate"><span class="pre">gammapy.maps.HpxMap</span></code></a></p>
<p>HEALPix map with any number of non-spatial dimensions.</p>
<p>This class uses a N+1D numpy array to represent the sequence of
HEALPix image planes.  Following the convention of WCS-based maps
this class uses a column-wise ordering for the data array with the
spatial dimension being tied to the last index of the array.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxGeom.html#gammapy.maps.HpxGeom" title="gammapy.maps.HpxGeom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxGeom</span></code></a></span></dt><dd><p>HEALPIX geometry object.</p>
</dd>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>HEALPIX data array.
If none then an empty array will be allocated.</p>
</dd>
<dt><strong>meta</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p>Dictionary to store meta data.</p>
</dd>
<dt><strong>unit</strong><span class="classifier">str or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a></span></dt><dd><p>The map unit</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.data" title="gammapy.maps.HpxNDMap.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code></a></p></td>
<td><p>Data array (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.geom" title="gammapy.maps.HpxNDMap.geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geom</span></code></a></p></td>
<td><p>Map geometry (<a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.is_mask" title="gammapy.maps.HpxNDMap.is_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_mask</span></code></a></p></td>
<td><p>Whether map is mask with bool dtype</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.meta" title="gammapy.maps.HpxNDMap.meta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">meta</span></code></a></p></td>
<td><p>Map meta (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.quantity" title="gammapy.maps.HpxNDMap.quantity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">quantity</span></code></a></p></td>
<td><p>Map data times unit (<a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.tag" title="gammapy.maps.HpxNDMap.tag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tag</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.unit" title="gammapy.maps.HpxNDMap.unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unit</span></code></a></p></td>
<td><p>Map unit (<a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a>)</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.apply_edisp" title="gammapy.maps.HpxNDMap.apply_edisp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_edisp</span></code></a>(edisp)</p></td>
<td><p>Apply energy dispersion to map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.coadd" title="gammapy.maps.HpxNDMap.coadd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coadd</span></code></a>(map_in[, weights])</p></td>
<td><p>Add the contents of <code class="docutils literal notranslate"><span class="pre">map_in</span></code> to this map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.copy" title="gammapy.maps.HpxNDMap.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>(**kwargs)</p></td>
<td><p>Copy map instance and overwrite given attributes, except for geometry.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.create" title="gammapy.maps.HpxNDMap.create"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create</span></code></a>([nside, binsz, nest, map_type, …])</p></td>
<td><p>Factory method to create an empty HEALPix map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.crop" title="gammapy.maps.HpxNDMap.crop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crop</span></code></a>(crop_width)</p></td>
<td><p>Crop the spatial dimensions of the map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.downsample" title="gammapy.maps.HpxNDMap.downsample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">downsample</span></code></a>(factor[, preserve_counts])</p></td>
<td><p>Downsample the spatial dimension by a given factor.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_coord" title="gammapy.maps.HpxNDMap.fill_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_by_coord</span></code></a>(coords[, weights])</p></td>
<td><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_idx" title="gammapy.maps.HpxNDMap.fill_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_by_idx</span></code></a>(idx[, weights])</p></td>
<td><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_pix" title="gammapy.maps.HpxNDMap.fill_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_by_pix</span></code></a>(pix[, weights])</p></td>
<td><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_events" title="gammapy.maps.HpxNDMap.fill_events"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_events</span></code></a>(events)</p></td>
<td><p>Fill event coordinates (<a class="reference internal" href="gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EventList</span></code></a>).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_geom" title="gammapy.maps.HpxNDMap.from_geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_geom</span></code></a>(geom[, meta, data, unit, dtype])</p></td>
<td><p>Generate an empty map from a <a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a> instance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_hdu" title="gammapy.maps.HpxNDMap.from_hdu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_hdu</span></code></a>(hdu[, hdu_bands, format])</p></td>
<td><p>Make a HpxNDMap object from a FITS HDU.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_hdulist" title="gammapy.maps.HpxNDMap.from_hdulist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_hdulist</span></code></a>(hdu_list[, hdu, hdu_bands, format])</p></td>
<td><p>Make a HpxMap object from a FITS HDUList.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_images" title="gammapy.maps.HpxNDMap.from_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_images</span></code></a>(images[, axis])</p></td>
<td><p>Create Map from list of images and a non-spatial axis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_coord" title="gammapy.maps.HpxNDMap.get_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_coord</span></code></a>(coords)</p></td>
<td><p>Return map values at the given map coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_idx" title="gammapy.maps.HpxNDMap.get_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_idx</span></code></a>(idx)</p></td>
<td><p>Return map values at the given pixel indices.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_pix" title="gammapy.maps.HpxNDMap.get_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_pix</span></code></a>(pix)</p></td>
<td><p>Return map values at the given pixel coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="gammapy.maps.HpxNDMap.get_image_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_coord</span></code></a>(coords)</p></td>
<td><p>Return spatial map at the given axis coordinates.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_idx" title="gammapy.maps.HpxNDMap.get_image_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_idx</span></code></a>(idx)</p></td>
<td><p>Return spatial map at the given axis pixel indices.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_pix" title="gammapy.maps.HpxNDMap.get_image_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_pix</span></code></a>(pix)</p></td>
<td><p>Return spatial map at the given axis pixel coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_by_coord" title="gammapy.maps.HpxNDMap.interp_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interp_by_coord</span></code></a>(coords[, method])</p></td>
<td><p>Interpolate map values at the given map coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_by_pix" title="gammapy.maps.HpxNDMap.interp_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interp_by_pix</span></code></a>(pix[, method])</p></td>
<td><p>Interpolate map values at the given pixel coordinates.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_to_geom" title="gammapy.maps.HpxNDMap.interp_to_geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interp_to_geom</span></code></a>(geom[, preserve_counts])</p></td>
<td><p>Interpolate map to input geometry.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image" title="gammapy.maps.HpxNDMap.iter_by_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image</span></code></a>()</p></td>
<td><p>Iterate over image planes of the map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.pad" title="gammapy.maps.HpxNDMap.pad"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pad</span></code></a>(pad_width[, mode, cval, order])</p></td>
<td><p>Pad the spatial dimensions of the map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot" title="gammapy.maps.HpxNDMap.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>([method, ax, normalize, proj, …])</p></td>
<td><p>Quickplot method.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot_grid" title="gammapy.maps.HpxNDMap.plot_grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_grid</span></code></a>([figsize, ncols])</p></td>
<td><p>Plot map as a grid of subplots for non-spatial axes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot_interactive" title="gammapy.maps.HpxNDMap.plot_interactive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_interactive</span></code></a>([rc_params])</p></td>
<td><p>Plot map with interactive widgets to explore the non spatial axes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.read" title="gammapy.maps.HpxNDMap.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>(filename[, hdu, hdu_bands, map_type, …])</p></td>
<td><p>Read a map from a FITS file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.reduce" title="gammapy.maps.HpxNDMap.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce</span></code></a>(axis_name[, func, keepdims, weights])</p></td>
<td><p>Reduce map over a single non-spatial axis</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.reduce_over_axes" title="gammapy.maps.HpxNDMap.reduce_over_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce_over_axes</span></code></a>([func, keepdims, …])</p></td>
<td><p>Reduce map over non-spatial axes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.resample_axis" title="gammapy.maps.HpxNDMap.resample_axis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resample_axis</span></code></a>(axis[, weights, ufunc])</p></td>
<td><p>Resample map to a new axis binning by grouping over smaller bins and apply ufunc to the bin contents.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_coord" title="gammapy.maps.HpxNDMap.set_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_by_coord</span></code></a>(coords, vals)</p></td>
<td><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_idx" title="gammapy.maps.HpxNDMap.set_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_by_idx</span></code></a>(idx, vals)</p></td>
<td><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_pix" title="gammapy.maps.HpxNDMap.set_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_by_pix</span></code></a>(pix, vals)</p></td>
<td><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.slice_by_idx" title="gammapy.maps.HpxNDMap.slice_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">slice_by_idx</span></code></a>(slices)</p></td>
<td><p>Slice sub map from map object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.sum_over_axes" title="gammapy.maps.HpxNDMap.sum_over_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sum_over_axes</span></code></a>([axes_names, keepdims, weights])</p></td>
<td><p>To sum map values over all non-spatial axes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_cube" title="gammapy.maps.HpxNDMap.to_cube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_cube</span></code></a>(axes)</p></td>
<td><p>Append non-spatial axes to create a higher-dimensional Map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_hdu" title="gammapy.maps.HpxNDMap.to_hdu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_hdu</span></code></a>([hdu, hdu_bands, sparse, format])</p></td>
<td><p>Make a FITS HDU with input data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_hdulist" title="gammapy.maps.HpxNDMap.to_hdulist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_hdulist</span></code></a>([hdu, hdu_bands, sparse, format])</p></td>
<td><p>Convert to <a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_swapped" title="gammapy.maps.HpxNDMap.to_swapped"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_swapped</span></code></a>()</p></td>
<td><p>Return a new map with the opposite scheme (ring or nested).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_ud_graded" title="gammapy.maps.HpxNDMap.to_ud_graded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_ud_graded</span></code></a>(nside[, preserve_counts])</p></td>
<td><p>Upgrade or downgrade the resolution of the map to the chosen nside.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_wcs" title="gammapy.maps.HpxNDMap.to_wcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_wcs</span></code></a>([sum_bands, normalize, proj, …])</p></td>
<td><p>Make a WCS object and convert HEALPIX data into WCS projection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.upsample" title="gammapy.maps.HpxNDMap.upsample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upsample</span></code></a>(factor[, preserve_counts])</p></td>
<td><p>Upsample the spatial dimension by a given factor.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.write" title="gammapy.maps.HpxNDMap.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(filename[, overwrite])</p></td>
<td><p>Write to a FITS file.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Data array (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.geom">
<code class="sig-name descname">geom</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Map geometry (<a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.is_mask">
<code class="sig-name descname">is_mask</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.is_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether map is mask with bool dtype</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.meta">
<code class="sig-name descname">meta</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Map meta (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.quantity">
<code class="sig-name descname">quantity</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.quantity" title="Permalink to this definition">¶</a></dt>
<dd><p>Map data times unit (<a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.tag">
<code class="sig-name descname">tag</code><em class="property"> = 'map'</em><a class="headerlink" href="#gammapy.maps.HpxNDMap.tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.unit">
<code class="sig-name descname">unit</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Map unit (<a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a>)</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="gammapy.maps.HpxNDMap.apply_edisp">
<code class="sig-name descname">apply_edisp</code><span class="sig-paren">(</span><em class="sig-param">edisp</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.apply_edisp" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply energy dispersion to map. Requires energy axis.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>edisp</strong><span class="classifier"><a class="reference internal" href="gammapy.irf.EDispKernel.html#gammapy.irf.EDispKernel" title="gammapy.irf.EDispKernel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.irf.EDispKernel</span></code></a></span></dt><dd><p>Energy dispersion matrix</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap" title="gammapy.maps.WcsNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap</span></code></a></span></dt><dd><p>Map with energy dispersion applied.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.coadd">
<code class="sig-name descname">coadd</code><span class="sig-paren">(</span><em class="sig-param">map_in</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.coadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the contents of <code class="docutils literal notranslate"><span class="pre">map_in</span></code> to this map.</p>
<p>This method can be used to combine maps containing integral quantities (e.g. counts)
or differential quantities if the maps have the same binning.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>map_in</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Input map.</p>
</dd>
<dt><strong>weights: `Map` or `~numpy.ndarray`</strong></dt><dd><p>The weight factors while adding</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy map instance and overwrite given attributes, except for geometry.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments to overwrite in the map constructor.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>copy</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Copied Map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.create">
<em class="property">classmethod </em><code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">nside=None</em>, <em class="sig-param">binsz=None</em>, <em class="sig-param">nest=True</em>, <em class="sig-param">map_type='hpx'</em>, <em class="sig-param">frame='icrs'</em>, <em class="sig-param">data=None</em>, <em class="sig-param">skydir=None</em>, <em class="sig-param">width=None</em>, <em class="sig-param">dtype='float32'</em>, <em class="sig-param">region=None</em>, <em class="sig-param">axes=None</em>, <em class="sig-param">meta=None</em>, <em class="sig-param">unit=''</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method to create an empty HEALPix map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nside</strong><span class="classifier">int or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>HEALPix NSIDE parameter.  This parameter sets the size of
the spatial pixels in the map.</p>
</dd>
<dt><strong>binsz</strong><span class="classifier">float or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Approximate pixel size in degrees.  An NSIDE will be
chosen that correponds to a pixel size closest to this
value.  This option is superseded by nside.</p>
</dd>
<dt><strong>nest</strong><span class="classifier">bool</span></dt><dd><p>True for HEALPix “NESTED” indexing scheme, False for “RING” scheme.</p>
</dd>
<dt><strong>frame</strong><span class="classifier">{“icrs”, “galactic”}, optional</span></dt><dd><p>Coordinate system, either Galactic (“galactic”) or Equatorial (“icrs”).</p>
</dd>
<dt><strong>skydir</strong><span class="classifier">tuple or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></span></dt><dd><p>Sky position of map center.  Can be either a SkyCoord
object or a tuple of longitude and latitude in deg in the
coordinate system of the map.</p>
</dd>
<dt><strong>map_type</strong><span class="classifier">{‘hpx’, ‘hpx-sparse’}</span></dt><dd><p>Map type.  Selects the class that will be used to
instantiate the map.</p>
</dd>
<dt><strong>width</strong><span class="classifier">float</span></dt><dd><p>Diameter of the map in degrees.  If None then an all-sky
geometry will be created.</p>
</dd>
<dt><strong>axes</strong><span class="classifier">list</span></dt><dd><p>List of <a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapAxis</span></code></a> objects for each non-spatial dimension.</p>
</dd>
<dt><strong>meta</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p>Dictionary to store meta data.</p>
</dd>
<dt><strong>unit</strong><span class="classifier">str or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a></span></dt><dd><p>The map unit</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>A HPX map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.crop">
<code class="sig-name descname">crop</code><span class="sig-paren">(</span><em class="sig-param">crop_width</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.crop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop the spatial dimensions of the map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crop_width</strong><span class="classifier">{sequence, array_like, int}</span></dt><dd><p>Number of pixels cropped from the edges of each axis.
Defined analogously to <code class="docutils literal notranslate"><span class="pre">pad_with</span></code> from <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.pad.html#numpy.pad" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.pad</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Cropped map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.downsample">
<code class="sig-name descname">downsample</code><span class="sig-paren">(</span><em class="sig-param">factor</em>, <em class="sig-param">preserve_counts=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.downsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample the spatial dimension by a given factor.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>factor</strong><span class="classifier">int</span></dt><dd><p>Downsampling factor.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool</span></dt><dd><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity).</p>
</dd>
<dt><strong>axis</strong><span class="classifier">str</span></dt><dd><p>Which axis to downsample. By default spatial axes are downsampled.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Downsampled map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.fill_by_coord">
<code class="sig-name descname">fill_by_coord</code><span class="sig-paren">(</span><em class="sig-param">coords</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Weights vector. Default is weight of one.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.fill_by_idx">
<code class="sig-name descname">fill_by_idx</code><span class="sig-paren">(</span><em class="sig-param">idx</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.fill_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Weights vector. Default is weight of one.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.fill_by_pix">
<code class="sig-name descname">fill_by_pix</code><span class="sig-paren">(</span><em class="sig-param">pix</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Weights vector. Default is weight of one.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.fill_events">
<code class="sig-name descname">fill_events</code><span class="sig-paren">(</span><em class="sig-param">events</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill event coordinates (<a class="reference internal" href="gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EventList</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.from_geom">
<em class="property">static </em><code class="sig-name descname">from_geom</code><span class="sig-paren">(</span><em class="sig-param">geom</em>, <em class="sig-param">meta=None</em>, <em class="sig-param">data=None</em>, <em class="sig-param">unit=''</em>, <em class="sig-param">dtype='float32'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an empty map from a <a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a> instance.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a></span></dt><dd><p>Map geometry.</p>
</dd>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></span></dt><dd><p>data array</p>
</dd>
<dt><strong>meta</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p>Dictionary to store meta data.</p>
</dd>
<dt><strong>unit</strong><span class="classifier">str or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a></span></dt><dd><p>Data unit.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.from_hdu">
<em class="property">classmethod </em><code class="sig-name descname">from_hdu</code><span class="sig-paren">(</span><em class="sig-param">hdu</em>, <em class="sig-param">hdu_bands=None</em>, <em class="sig-param">format=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.from_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a HpxNDMap object from a FITS HDU.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>hdu</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BinTableHDU</span></code></a></span></dt><dd><p>The FITS HDU</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BinTableHDU</span></code></a></span></dt><dd><p>The BANDS table HDU</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS convention. If None the format is guessed. The following
formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf”</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>HEALPix map</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.from_hdulist">
<em class="property">classmethod </em><code class="sig-name descname">from_hdulist</code><span class="sig-paren">(</span><em class="sig-param">hdu_list</em>, <em class="sig-param">hdu=None</em>, <em class="sig-param">hdu_bands=None</em>, <em class="sig-param">format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a HpxMap object from a FITS HDUList.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>hdu_list</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a></span></dt><dd><p>HDU list containing HDUs for map data and bands.</p>
</dd>
<dt><strong>hdu</strong><span class="classifier">str</span></dt><dd><p>Name or index of the HDU with the map data.  If None then
the method will try to load map data from the first
BinTableHDU in the file.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str</span></dt><dd><p>Name or index of the HDU with the BANDS table.</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS format convention.  By default files will be written
to the gamma-astro-data-formats (GADF) format.  This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools). The following formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf” (default)</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>hpx_map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>Map object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.from_images">
<em class="property">classmethod </em><code class="sig-name descname">from_images</code><span class="sig-paren">(</span><em class="sig-param">images</em>, <em class="sig-param">axis=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Map from list of images and a non-spatial axis.</p>
<p>If the images have a non-spatial axis of length 1 a new axes is generated
from by merging the individual axes. The image geometries must be aligned.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>images</strong><span class="classifier">list of <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects</span></dt><dd><p>Images</p>
</dd>
<dt><strong>axis</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapAxis</span></code></a></span></dt><dd><p>Map axis</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with additional non-spatial axis.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_by_coord">
<code class="sig-name descname">get_by_coord</code><span class="sig-paren">(</span><em class="sig-param">coords</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given map coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values of pixels in the map.  np.nan used to flag coords
outside of map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_by_idx">
<code class="sig-name descname">get_by_idx</code><span class="sig-paren">(</span><em class="sig-param">idx</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.get_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel indices.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Array of pixel values.
np.nan used to flag coordinate outside of map</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_by_pix">
<code class="sig-name descname">get_by_pix</code><span class="sig-paren">(</span><em class="sig-param">pix</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Array of pixel values.  np.nan used to flag coordinates
outside of map</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_image_by_coord">
<code class="sig-name descname">get_image_by_coord</code><span class="sig-paren">(</span><em class="sig-param">coords</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Return spatial map at the given axis coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coords</strong><span class="classifier">tuple or dict</span></dt><dd><p>Tuple should be ordered as (x_0, …, x_n) where x_i are coordinates
for non-spatial dimensions of the map. Dict should specify the axis
names of the non-spatial axes such as {‘axes0’: x_0, …, ‘axesn’: x_n}.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with spatial dimensions only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_idx" title="gammapy.maps.HpxNDMap.get_image_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_idx</span></code></a>, <a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_pix" title="gammapy.maps.HpxNDMap.get_image_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_pix</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">gammapy.maps</span> <span class="kn">import</span> <span class="n">Map</span><span class="p">,</span> <span class="n">MapAxis</span>
<span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
<span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>

<span class="c1"># Define map axes</span>
<span class="n">energy_axis</span> <span class="o">=</span> <span class="n">MapAxis</span><span class="o">.</span><span class="n">from_edges</span><span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;TeV&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">time_axis</span> <span class="o">=</span> <span class="n">MapAxis</span><span class="o">.</span><span class="n">from_edges</span><span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Define map center</span>
<span class="n">skydir</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;galactic&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">)</span>

<span class="c1"># Create map</span>
<span class="n">m_wcs</span> <span class="o">=</span> <span class="n">Map</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">map_type</span><span class="o">=</span><span class="s1">&#39;wcs&#39;</span><span class="p">,</span>
    <span class="n">binsz</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span>
    <span class="n">skydir</span><span class="o">=</span><span class="n">skydir</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
    <span class="n">axes</span><span class="o">=</span><span class="p">[</span><span class="n">energy_axis</span><span class="p">,</span> <span class="n">time_axis</span><span class="p">],</span>
<span class="p">)</span>

<span class="c1"># Get image by coord tuple</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">m_wcs</span><span class="o">.</span><span class="n">get_image_by_coord</span><span class="p">((</span><span class="s1">&#39;500 GeV&#39;</span><span class="p">,</span> <span class="s1">&#39;1 h&#39;</span><span class="p">))</span>

<span class="c1"># Get image by coord dict with strings</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">m_wcs</span><span class="o">.</span><span class="n">get_image_by_coord</span><span class="p">({</span><span class="s1">&#39;energy&#39;</span><span class="p">:</span> <span class="s1">&#39;500 GeV&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="s1">&#39;1 h&#39;</span><span class="p">})</span>

<span class="c1"># Get image by coord dict with quantities</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">m_wcs</span><span class="o">.</span><span class="n">get_image_by_coord</span><span class="p">({</span><span class="s1">&#39;energy&#39;</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">TeV</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">h</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_image_by_idx">
<code class="sig-name descname">get_image_by_idx</code><span class="sig-paren">(</span><em class="sig-param">idx</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_image_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return spatial map at the given axis pixel indices.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of scalar indices for each non spatial dimension of the map.
Tuple should be ordered as (I_0, …, I_n).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with spatial dimensions only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="gammapy.maps.HpxNDMap.get_image_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_coord</span></code></a>, <a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_pix" title="gammapy.maps.HpxNDMap.get_image_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_pix</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_image_by_pix">
<code class="sig-name descname">get_image_by_pix</code><span class="sig-paren">(</span><em class="sig-param">pix</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_image_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return spatial map at the given axis pixel coordinates</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of scalar pixel coordinates for each non-spatial dimension of
the map. Tuple should be ordered as (I_0, …, I_n). Pixel coordinates
can be either float or integer type.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with spatial dimensions only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="gammapy.maps.HpxNDMap.get_image_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_coord</span></code></a>, <a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_idx" title="gammapy.maps.HpxNDMap.get_image_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_idx</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.interp_by_coord">
<code class="sig-name descname">interp_by_coord</code><span class="sig-paren">(</span><em class="sig-param">coords</em>, <em class="sig-param">method='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.interp_by_coord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values at the given map coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
<dt><strong>method</strong><span class="classifier">{“nearest”, “linear”}</span></dt><dd><p>Method to interpolate data values. By default no
interpolation is performed and the return value will be
the amplitude of the pixel encompassing the given
coordinate.</p>
</dd>
<dt><strong>fill_value</strong><span class="classifier">None or float value</span></dt><dd><p>The value to use for points outside of the interpolation domain.
If None, values outside the domain are extrapolated.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Interpolated pixel values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.interp_by_pix">
<code class="sig-name descname">interp_by_pix</code><span class="sig-paren">(</span><em class="sig-param">pix</em>, <em class="sig-param">method=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.interp_by_pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values at the given pixel coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.interp_to_geom">
<code class="sig-name descname">interp_to_geom</code><span class="sig-paren">(</span><em class="sig-param">geom</em>, <em class="sig-param">preserve_counts=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_to_geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map to input geometry.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a></span></dt><dd><p>Target Map geometry</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool</span></dt><dd><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity)</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map.interp_by_coord" title="gammapy.maps.Map.interp_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map.interp_by_coord</span></code></a></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>interp_map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Interpolated Map</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.iter_by_image">
<code class="sig-name descname">iter_by_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over image planes of the map.</p>
<p>This is a generator yielding <code class="docutils literal notranslate"><span class="pre">(data,</span> <span class="pre">idx)</span></code> tuples,
where <code class="docutils literal notranslate"><span class="pre">data</span></code> is a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> view of the image plane data,
and <code class="docutils literal notranslate"><span class="pre">idx</span></code> is a tuple of int, the index of the image plane.</p>
<p>The image plane index is in data order, so that the data array can be
indexed directly. See <a class="reference internal" href="../maps/index.html#mapiter"><span class="std std-ref">Iterating by image</span></a> for further information.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.pad">
<code class="sig-name descname">pad</code><span class="sig-paren">(</span><em class="sig-param">pad_width</em>, <em class="sig-param">mode='constant'</em>, <em class="sig-param">cval=0</em>, <em class="sig-param">order=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the spatial dimensions of the map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pad_width</strong><span class="classifier">{sequence, array_like, int}</span></dt><dd><p>Number of pixels padded to the edges of each axis.</p>
</dd>
<dt><strong>mode</strong><span class="classifier">{‘edge’, ‘constant’, ‘interp’}</span></dt><dd><p>Padding mode.  ‘edge’ pads with the closest edge value.
‘constant’ pads with a constant value. ‘interp’ pads with
an extrapolated value.</p>
</dd>
<dt><strong>cval</strong><span class="classifier">float</span></dt><dd><p>Padding value when mode=’consant’.</p>
</dd>
<dt><strong>order</strong><span class="classifier">int</span></dt><dd><p>Order of interpolation when mode=’constant’ (0 =
nearest-neighbor, 1 = linear, 2 = quadratic, 3 = cubic).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Padded map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">method='raster'</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">normalize=False</em>, <em class="sig-param">proj='AIT'</em>, <em class="sig-param">oversample=2</em>, <em class="sig-param">width_pix=1000</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickplot method.</p>
<p>This will generate a visualization of the map by converting to
a rasterized WCS image (method=’raster’) or drawing polygons
for each pixel (method=’poly’).</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>method</strong><span class="classifier">{‘raster’,’poly’}</span></dt><dd><p>Method for mapping HEALPix pixels to a two-dimensional
image.  Can be set to ‘raster’ (rasterization to cartesian
image plane) or ‘poly’ (explicit polygons for each pixel).
WARNING: The ‘poly’ method is much slower than ‘raster’
and only suitable for maps with less than ~10k pixels.</p>
</dd>
<dt><strong>proj</strong><span class="classifier">string, optional</span></dt><dd><p>Any valid WCS projection type.</p>
</dd>
<dt><strong>oversample</strong><span class="classifier">float</span></dt><dd><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HPX pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal notranslate"><span class="pre">width_pix</span></code>.</p>
</dd>
<dt><strong>width_pix</strong><span class="classifier">int</span></dt><dd><p>Width of the WCS geometry in pixels.  The pixel size will
be set to the number of pixels satisfying <code class="docutils literal notranslate"><span class="pre">oversample</span></code>
or <code class="docutils literal notranslate"><span class="pre">width_pix</span></code> whichever is smaller.  If this parameter
is None then the width will be set from <code class="docutils literal notranslate"><span class="pre">oversample</span></code>.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imshow</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>fig</strong><span class="classifier"><a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Figure</span></code></a></span></dt><dd><p>Figure object.</p>
</dd>
<dt><strong>ax</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.visualization.wcsaxes.WCSAxes.html#astropy.visualization.wcsaxes.WCSAxes" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WCSAxes</span></code></a></span></dt><dd><p>WCS axis object</p>
</dd>
<dt><strong>im</strong><span class="classifier"><a class="reference external" href="https://matplotlib.org/api/image_api.html#matplotlib.image.AxesImage" title="(in Matplotlib v3.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AxesImage</span></code></a> or <a class="reference external" href="https://matplotlib.org/api/collections_api.html#matplotlib.collections.PatchCollection" title="(in Matplotlib v3.3.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PatchCollection</span></code></a></span></dt><dd><p>Image object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.plot_grid">
<code class="sig-name descname">plot_grid</code><span class="sig-paren">(</span><em class="sig-param">figsize=None</em>, <em class="sig-param">ncols=3</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot map as a grid of subplots for non-spatial axes</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>figsize</strong><span class="classifier">tuple of int</span></dt><dd><p>Figsize to plot on</p>
</dd>
<dt><strong>ncols</strong><span class="classifier">int</span></dt><dd><p>Number of columns to plot</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map.plot</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>axes</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes</span></code></span></dt><dd><p>Axes grid</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.plot_interactive">
<code class="sig-name descname">plot_interactive</code><span class="sig-paren">(</span><em class="sig-param">rc_params=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot_interactive" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot map with interactive widgets to explore the non spatial axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>rc_params</strong><span class="classifier">dict</span></dt><dd><p>Passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.rc_context(rc=rc_params)</span></code> to style the plot.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap.plot" title="gammapy.maps.WcsNDMap.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap.plot</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>You can try this out e.g. using a Fermi-LAT diffuse model cube with an energy axis:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gammapy.maps</span> <span class="kn">import</span> <span class="n">Map</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Map</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;$GAMMAPY_DATA/fermi_3fhl/gll_iem_v06_cutout.fits&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="n">add_cbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="s2">&quot;sqrt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you would like to adjust the figure size you can use the <code class="docutils literal notranslate"><span class="pre">rc_params</span></code> argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rc_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="n">rc_params</span><span class="o">=</span><span class="n">rc_params</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.read">
<em class="property">static </em><code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">hdu=None</em>, <em class="sig-param">hdu_bands=None</em>, <em class="sig-param">map_type='auto'</em>, <em class="sig-param">format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a map from a FITS file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>filename</strong><span class="classifier">str or <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Path</span></code></a></span></dt><dd><p>Name of the FITS file.</p>
</dd>
<dt><strong>hdu</strong><span class="classifier">str</span></dt><dd><p>Name or index of the HDU with the map data.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str</span></dt><dd><p>Name or index of the HDU with the BANDS table.  If not
defined this will be inferred from the FITS header of the
map HDU.</p>
</dd>
<dt><strong>map_type</strong><span class="classifier">{‘wcs’, ‘wcs-sparse’, ‘hpx’, ‘hpx-sparse’, ‘auto’}</span></dt><dd><p>Map type.  Selects the class that will be used to
instantiate the map.  The map type should be consistent
with the format of the input file.  If map_type is ‘auto’
then an appropriate map type will be inferred from the
input file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.reduce">
<code class="sig-name descname">reduce</code><span class="sig-paren">(</span><em class="sig-param">axis_name</em>, <em class="sig-param">func=&lt;ufunc 'add'&gt;</em>, <em class="sig-param">keepdims=False</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce map over a single non-spatial axis</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>axis_name: str</strong></dt><dd><p>The name of the axis to reduce over</p>
</dd>
<dt><strong>func</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code></span></dt><dd><p>Function to use for reducing the data.</p>
</dd>
<dt><strong>keepdims</strong><span class="classifier">bool, optional</span></dt><dd><p>If this is set to true, the axes which are summed over are left in
the map with a single bin</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Weights to be applied.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with the given non-spatial axes reduced</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.reduce_over_axes">
<code class="sig-name descname">reduce_over_axes</code><span class="sig-paren">(</span><em class="sig-param">func=&lt;ufunc 'add'&gt;</em>, <em class="sig-param">keepdims=False</em>, <em class="sig-param">axes_names=None</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reduce_over_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce map over non-spatial axes</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>func</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code></span></dt><dd><p>Function to use for reducing the data.</p>
</dd>
<dt><strong>keepdims</strong><span class="classifier">bool, optional</span></dt><dd><p>If this is set to true, the axes which are summed over are left in
the map with a single bin</p>
</dd>
<dt><strong>axes_names: list</strong></dt><dd><p>Names of MapAxis to reduce over
If None, all will reduced</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Weights to be applied.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with non-spatial axes reduced</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.resample_axis">
<code class="sig-name descname">resample_axis</code><span class="sig-paren">(</span><em class="sig-param">axis</em>, <em class="sig-param">weights=None</em>, <em class="sig-param">ufunc=&lt;ufunc 'add'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.resample_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample map to a new axis binning by grouping over smaller bins and apply ufunc to the bin contents.</p>
<p>By default, the map content are summed over the smaller bins. Other numpy ufunc can be used,
e.g. np.logical_and, np.logical_or</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>axis</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapAxis</span></code></a></span></dt><dd><p>New map axis.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Array to be used as weights. The spatial geometry must be equivalent
to <code class="xref py py-obj docutils literal notranslate"><span class="pre">other</span></code> and additional axes must be broadcastable.</p>
</dd>
<dt><strong>ufunc</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code></span></dt><dd><p>ufunc to use to resample the axis. Default is numpy.add.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with resampled axis.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.set_by_coord">
<code class="sig-name descname">set_by_coord</code><span class="sig-paren">(</span><em class="sig-param">coords</em>, <em class="sig-param">vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values vector.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.set_by_idx">
<code class="sig-name descname">set_by_idx</code><span class="sig-paren">(</span><em class="sig-param">idx</em>, <em class="sig-param">vals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.set_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</dd>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values vector.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.set_by_pix">
<code class="sig-name descname">set_by_pix</code><span class="sig-paren">(</span><em class="sig-param">pix</em>, <em class="sig-param">vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</dd>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values vector.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.slice_by_idx">
<code class="sig-name descname">slice_by_idx</code><span class="sig-paren">(</span><em class="sig-param">slices</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.slice_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice sub map from map object.</p>
<p>For usage examples, see <a class="reference internal" href="../maps/index.html#mapslicing"><span class="std std-ref">Indexing and Slicing</span></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>slices</strong><span class="classifier">dict</span></dt><dd><p>Dict of axes names and integers or <a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">slice</span></code></a> object pairs. Contains one
element for each non-spatial dimension. For integer indexing the
corresponding axes is dropped from the map. Axes not specified in the
dict are kept unchanged.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Sliced map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.sum_over_axes">
<code class="sig-name descname">sum_over_axes</code><span class="sig-paren">(</span><em class="sig-param">axes_names=None</em>, <em class="sig-param">keepdims=True</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.sum_over_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>To sum map values over all non-spatial axes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>keepdims</strong><span class="classifier">bool, optional</span></dt><dd><p>If this is set to true, the axes which are summed over are left in
the map with a single bin</p>
</dd>
<dt><strong>axes_names: list of str</strong></dt><dd><p>Names of MapAxis to reduce over. If None, all will summed over</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Weights to be applied. The Map should have the same geometry.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with non-spatial axes summed over</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_cube">
<code class="sig-name descname">to_cube</code><span class="sig-paren">(</span><em class="sig-param">axes</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Append non-spatial axes to create a higher-dimensional Map.</p>
<p>This will result in a Map with a new geometry with
N+M dimensions where N is the number of current dimensions and
M is the number of axes in the list. The data is reshaped onto the
new geometry</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>axes</strong><span class="classifier">list</span></dt><dd><p>Axes that will be appended to this Map.
The axes should have only one bin</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap" title="gammapy.maps.WcsNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap</span></code></a></span></dt><dd><p>new map</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_hdu">
<code class="sig-name descname">to_hdu</code><span class="sig-paren">(</span><em class="sig-param">hdu=None</em>, <em class="sig-param">hdu_bands=None</em>, <em class="sig-param">sparse=False</em>, <em class="sig-param">format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a FITS HDU with input data.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hdu</strong><span class="classifier">str</span></dt><dd><p>The HDU extension name.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str</span></dt><dd><p>The HDU extension name for BANDS table.</p>
</dd>
<dt><strong>sparse</strong><span class="classifier">bool</span></dt><dd><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.</p>
</dd>
<dt><strong>format</strong><span class="classifier">{‘fgst-ccube’, ‘fgst-template’, ‘gadf’, None}, optional</span></dt><dd><p>FITS format convention.  If None this will be set to the
default convention of the map.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>hdu_out</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BinTableHDU</span></code></a> or <a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/images.html#astropy.io.fits.ImageHDU" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageHDU</span></code></a></span></dt><dd><p>Output HDU containing map data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_hdulist">
<code class="sig-name descname">to_hdulist</code><span class="sig-paren">(</span><em class="sig-param">hdu='SKYMAP'</em>, <em class="sig-param">hdu_bands=None</em>, <em class="sig-param">sparse=False</em>, <em class="sig-param">format='gadf'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to <a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>hdu</strong><span class="classifier">str</span></dt><dd><p>The HDU extension name.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str</span></dt><dd><p>The HDU extension name for BANDS table.</p>
</dd>
<dt><strong>sparse</strong><span class="classifier">bool</span></dt><dd><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS format convention.  By default files will be written
to the gamma-astro-data-formats (GADF) format.  This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools). The following formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf” (default)</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>hdu_list</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v4.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a></span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_swapped">
<code class="sig-name descname">to_swapped</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.to_swapped"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_swapped" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new map with the opposite scheme (ring or nested).</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>Map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_ud_graded">
<code class="sig-name descname">to_ud_graded</code><span class="sig-paren">(</span><em class="sig-param">nside</em>, <em class="sig-param">preserve_counts=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.to_ud_graded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_ud_graded" title="Permalink to this definition">¶</a></dt>
<dd><p>Upgrade or downgrade the resolution of the map to the chosen nside.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nside</strong><span class="classifier">int</span></dt><dd><p>NSIDE parameter of the new map.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool</span></dt><dd><p>Choose whether to preserve counts (total amplitude) or
intensity (amplitude per unit solid angle).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>Map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_wcs">
<code class="sig-name descname">to_wcs</code><span class="sig-paren">(</span><em class="sig-param">sum_bands=False</em>, <em class="sig-param">normalize=True</em>, <em class="sig-param">proj='AIT'</em>, <em class="sig-param">oversample=2</em>, <em class="sig-param">width_pix=None</em>, <em class="sig-param">hpx2wcs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.to_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a WCS object and convert HEALPIX data into WCS projection.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sum_bands</strong><span class="classifier">bool</span></dt><dd><p>Sum over non-spatial axes before reprojecting.  If False
then the WCS map will have the same dimensionality as the
HEALPix one.</p>
</dd>
<dt><strong>normalize</strong><span class="classifier">bool</span></dt><dd><p>Preserve integral by splitting HEALPIX values between bins?</p>
</dd>
<dt><strong>proj</strong><span class="classifier">str</span></dt><dd><p>WCS-projection</p>
</dd>
<dt><strong>oversample</strong><span class="classifier">float</span></dt><dd><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HPX pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal notranslate"><span class="pre">width_pix</span></code>.</p>
</dd>
<dt><strong>width_pix</strong><span class="classifier">int</span></dt><dd><p>Width of the WCS geometry in pixels.  The pixel size will
be set to the number of pixels satisfying <code class="docutils literal notranslate"><span class="pre">oversample</span></code>
or <code class="docutils literal notranslate"><span class="pre">width_pix</span></code> whichever is smaller.  If this parameter
is None then the width will be set from <code class="docutils literal notranslate"><span class="pre">oversample</span></code>.</p>
</dd>
<dt><strong>hpx2wcs</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxToWcsMapping</span></code></span></dt><dd><p>Set the HPX to WCS mapping object that will be used to
generate the WCS map.  If none then a new mapping will be
generated based on <code class="docutils literal notranslate"><span class="pre">proj</span></code> and <code class="docutils literal notranslate"><span class="pre">oversample</span></code> arguments.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.WcsMap.html#gammapy.maps.WcsMap" title="gammapy.maps.WcsMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsMap</span></code></a></span></dt><dd><p>WCS map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.upsample">
<code class="sig-name descname">upsample</code><span class="sig-paren">(</span><em class="sig-param">factor</em>, <em class="sig-param">preserve_counts=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.upsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.upsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Upsample the spatial dimension by a given factor.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>factor</strong><span class="classifier">int</span></dt><dd><p>Upsampling factor.</p>
</dd>
<dt><strong>order</strong><span class="classifier">int</span></dt><dd><p>Order of the interpolation used for upsampling.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool</span></dt><dd><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity).</p>
</dd>
<dt><strong>axis</strong><span class="classifier">str</span></dt><dd><p>Which axis to upsample. By default spatial axes are upsampled.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Upsampled map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to a FITS file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>filename</strong><span class="classifier">str</span></dt><dd><p>Output file name.</p>
</dd>
<dt><strong>overwrite</strong><span class="classifier">bool</span></dt><dd><p>Overwrite existing file?</p>
</dd>
<dt><strong>hdu</strong><span class="classifier">str</span></dt><dd><p>Set the name of the image extension.  By default this will
be set to SKYMAP (for BINTABLE HDU) or PRIMARY (for IMAGE
HDU).</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str</span></dt><dd><p>Set the name of the bands table extension.  By default this will
be set to BANDS.</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS format convention.  By default files will be written
to the gamma-astro-data-formats (GADF) format.  This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools). The following formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf” (default)</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>sparse</strong><span class="classifier">bool</span></dt><dd><p>Sparsify the map by dropping pixels with zero amplitude.
This option is only compatible with the ‘gadf’ format.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gammapy.maps.Map.html" class="btn btn-neutral float-right" title="Map" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="gammapy.maps.HpxMap.html" class="btn btn-neutral float-left" title="HpxMap" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Gammapy developers.
      <span class="lastupdated">
        Last updated on 15 Jan 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>